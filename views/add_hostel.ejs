// add_hostel.ejs (Corrected)
<%- include('partials/header_sidebar') %>

<style>
    /* Mobile Responsiveness */
    @media (max-width: 767.98px) {
        .content-wrapper {
            padding: 15px;
        }
        .container {
            padding-left: 12px !important;
            padding-right: 12px !important;
        }
        .card {
            padding: 20px !important;
        }
        .table-responsive {
            font-size: 0.85rem;
        }
        .table {
            margin-bottom: 0;
        }
        .form-control, .form-select {
            padding: 8px 12px;
            font-size: 16px;
        }
        .btn-group {
            gap: 8px !important;
        }
        .btn-outline-dark {
            padding: 6px 12px !important;
            font-size: 0.8rem;
        }
    }

    @media (max-width: 575.98px) {
        .container {
            max-width: 100% !important;
        }
        .card {
            padding: 16px !important;
        }
        h2 {
            font-size: 1.3rem;
        }
        h5 {
            font-size: 1rem;
        }
        .table-responsive {
            font-size: 0.75rem;
            overflow-x: auto;
        }
        .table td, .table th {
            padding: 0.4rem;
        }
        .table-bordered {
            border: 1px solid #ddd;
        }
        .form-control, .form-select {
            padding: 10px;
            font-size: 16px;
        }
        .form-control-sm {
            padding: 6px;
            font-size: 0.85rem;
        }
        .btn-gold {
            padding: 10px 20px !important;
            font-size: 1rem;
        }
    }
</style>

<div class="content-wrapper">
    <div class="container" style="max-width: 900px; padding-bottom: 50px;">
        <h2 class="fw-bold mb-4 text-center" style="font-family: 'Cinzel';">List Your Property</h2>
        
        <form action="/add_hostel" method="POST" enctype="multipart/form-data" class="card p-5 shadow-sm border-0">
            
            <h5 class="text-gold border-bottom pb-2 mb-3">1. Basic Details</h5>
            
            <div class="mb-3">
                <label class="fw-bold">Hostel Name</label>
                <input type="text" name="name" class="form-control" required placeholder="e.g. Royal Boys Hostel">
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="fw-bold">Category</label>
                    <select name="category" class="form-select">
                        <option>Boys</option><option>Girls</option><option>Family</option>
                    </select>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="fw-bold">Area / City</label>
                    <input type="text" name="area" class="form-control" required placeholder="e.g. D-Ground">
                </div>
            </div>

            <div class="mb-3">
                <label class="fw-bold">Monthly Rent (PKR)</label>
                <input type="number" name="price" class="form-control" required placeholder="e.g. 15000">
            </div>
            
            <div class="mb-3 p-3 rounded" style="background: #fff8e6; border: 1px dashed #D4AF37;">
                <label class="fw-bold">Mess Fee / Food Charges (PKR) - OPTIONAL</label>
                <input type="number" name="mess_fee" class="form-control mt-1" placeholder="e.g. 5000 (Enter 0 or leave empty if no mess)">
                <small class="text-muted">This is the monthly charge for food service, if available.</small>
            </div>
            <div class="mb-3 p-3 bg-light rounded">
                <label class="fw-bold mb-2">Facilities:</label><br>
                <div class="btn-group flex-wrap gap-2" role="group">
                    <% const facs = ['WiFi','Mess','Laundry','Generator','CCTV','Parking']; 
                       facs.forEach((f, i) => { %>
                        <input type="checkbox" class="btn-check" name="facilities[]" value="<%= f %>" id="f<%= i %>">
                        <label class="btn btn-outline-dark rounded-pill px-3" for="f<%= i %>"><%= f %></label>
                    <% }); %>
                </div>
            </div>

            <div class="mb-3">
                <label class="fw-bold">Description</label>
                <textarea name="desc" class="form-control" rows="3" placeholder="Tell students about your hostel..."></textarea>
            </div>

            <div class="mb-3">
                <label class="fw-bold text-danger">Google Maps Embed Code (Optional)</label>
                <textarea name="map_embed" class="form-control" rows="2" placeholder='Paste <iframe...> code here'></textarea>
            </div>

            <h5 class="text-gold border-bottom pb-2 mt-4 mb-3">2. Mess Menu (Weekly Plan)</h5>
            <div class="table-responsive mb-4">
                <table class="table table-bordered text-center">
                    <thead class="table-dark">
                        <tr><th>Day</th><th>Breakfast</th><th>Lunch</th><th>Dinner</th></tr>
                    </thead>
                    <tbody>
                        <% const days = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday']; 
                           days.forEach(d => { %>
                            <tr>
                                <td class="fw-bold"><%= d %><input type="hidden" name="day[]" value="<%= d %>"></td>
                                <td><input type="text" name="bkf[]" class="form-control form-control-sm" placeholder="Dish..."></td>
                                <td><input type="text" name="lun[]" class="form-control form-control-sm" placeholder="Dish..."></td>
                                <td><input type="text" name="din[]" class="form-control form-control-sm" placeholder="Dish..."></td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>

            <h5 class="text-gold border-bottom pb-2 mt-2 mb-3">3. Photos</h5>
            <div class="mb-4 border p-3 rounded bg-light">
                <label class="fw-bold text-primary">Select Images (Max 5)</label>
                <input type="file" name="images" class="form-control mt-2" multiple required accept="image/*">
                <small class="text-muted">Hold <strong>Ctrl</strong> to select multiple images.</small>
            </div>

            <button type="submit" class="btn btn-gold w-100 py-3 fw-bold fs-5 shadow-sm">
                Save & Publish Hostel
            </button>
        </form>
    </div>
</div>
<%- include('partials/footer') %>